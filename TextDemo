/**
 * Created by nikita on 19.03.16.
 */
import com.intellij.util.IncorrectOperationException;

import java.io.*;
import java.util.*;


public class TextDemo {
    public static void main(String[] args) throws IOException {

        FileInputStream fis= new FileInputStream("/home/nikita/IdeaProjects/Text operations/shoplist");
        BufferedReader br = new BufferedReader(new InputStreamReader(fis));
        //FileOutputStream foutS= new FileOutputStream("/home/nikita/IdeaProjects/Text operations/shoplist");
        //BufferedWriter bws = new BufferedWriter(new OutputStreamWriter(foutS));
        FileOutputStream foutR= new FileOutputStream("/home/nikita/IdeaProjects/Text operations/result",true);
        BufferedWriter bwr = new BufferedWriter(new OutputStreamWriter(foutR));
        String line;
        Tovar tovar = new Tovar();
        int n=0;
        /*int [] IDData = new int [50];
        String [] NameData = new String [50];
        int [] PriseData = new int [50];
        int [] AmntData = new int [50]; */

         //try{
             while((line=br.readLine())!=null){
                 System.out.println(line);
                 String[] parts = line.split(";");
                        //try {
                 tovar.IDData[n] = Integer.parseInt(parts[0]);
                        //}catch(NumberFormatException ex){
                        //  try {
                 tovar.NameData[n] = parts[1];
                        // }catch (ArrayIndexOutOfBoundsException e){
                         //try{
                 tovar.PriseData[n] = Integer.parseInt(parts[2]);
                        // }catch (ArrayIndexOutOfBoundsException z){
                         //try {
                 tovar.AmntData[n] = Integer.parseInt(parts[3]);
                         //}catch(ArrayIndexOutOfBoundsException x){
                 n++;}

        //}}}}
        // }catch (IncorrectOperationException ex){
        br.close();
        //System.out.println(tovar.IDData[0]);
        //System.out.println(PriseData[2]);

        Scanner input = new Scanner(System.in);
        int IDin, Amntin, INdex;
        System.out.println("Введите ID товара:");
        IDin=input.nextInt();
        System.out.println("Введите количество товара:");
        Amntin=input.nextInt();
        INdex = tovar.findIndex(tovar.IDData,IDin);
        if (INdex == 0) System.out.println("Товар не найден!");
        if(tovar.AmntData[INdex] < Amntin ) {System.out.println("Товара не хватает!");}
        else { tovar.AmntData[INdex]= tovar.AmntData[INdex] - Amntin;
            bwr.write(tovar.NameData[INdex]+" "+Amntin*tovar.PriseData[INdex]);
            bwr.newLine();
            bwr.close();
        }

        tovar.RewriteSL(tovar.IDData,tovar.NameData,tovar.PriseData,tovar.AmntData,n);

    }
}

    /*public static int findNumberInMass(int[] IDData, int IDin) {
        // проходим по циклу от первого элемента до "последнего"
        for (int i = 0; i < IDData.length; i++) {
            // если число найдено - цикл прерывается и возвращается номер позиции
            if (IDin == IDData[i]) {
                return i;
            }
        }
        //если в массиве нет нужного элемента - возвращаем ноль
        return 0;

    }*/


